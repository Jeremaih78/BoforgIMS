{% load static %}
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <style>
    body{font-family:Arial, Helvetica, sans-serif; font-size:12px; color:#111;}
    .container{width:100%;}
    .muted{color:#555;}
    .small{font-size:10px;}
    .brand-title{font-weight:bold; font-size:16px; letter-spacing:0.5px;}
    .heading{font-size:22px; margin:0;}
    .hr{height:2px; background:#000; margin:8px 0 12px;}
    .table{width:100%; border-collapse:collapse;}
    .table th,.table td{border:1px solid #ccc; padding:6px; vertical-align:top;}
    .table thead th{background:#f3f4f6; text-transform:uppercase; font-size:11px; letter-spacing:.3px;}
    .right{text-align:right;}
    /* avoid percentage widths for xhtml2pdf compatibility */
    .mb-6{margin-bottom:6px;}
    .mb-12{margin-bottom:12px;}
    .mt-12{margin-top:12px;}
    .info-table td{border:none; padding:2px 0;}
    .totals{width:40%; margin-left:auto;}
    .footer{margin-top:18px; font-size:11px; border-top:1px solid #ddd; padding-top:8px;}
  </style>
  <title>Invoice {{ inv.number }}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="color-scheme" content="light">
  <meta name="supported-color-schemes" content="light">
  <link rel="preload" as="image" href="{% static 'img/logo_black.png' %}">
  <link rel="icon" href="{% static 'img/logo_black.png' %}">
  <base href="/">
  <style>@page { size: A4; margin: 20mm; }</style>
  </head>
<body>
  <!-- Header -->
  <table class="container" style="border-collapse:collapse; width:100%;">
    <tr>
      <td style="vertical-align:middle;">
        <img src="{% static 'img/logo_black.png' %}" alt="Boforg Technologies" height="56" class="mb-6"><br>
        <div class="brand-title">Boforg Technologies</div>
        <table class="info-table small muted">
          <tr><td>Phone:</td><td>+263 786 264 994</td></tr>
          <tr><td>Email:</td><td>sales@boforg.co.zw</td></tr>
          <tr><td>Web:</td><td>boforg.co.zw</td></tr>
        </table>
      </td>
      <td class="right" style="vertical-align:middle;">
        <h1 class="heading">Invoice {{ inv.number }}</h1>
        <div class="small">Date: {{ inv.date }}<br>Due: {{ inv.due_date }}</div>
      </td>
    </tr>
  </table>
  <div class="hr"></div>

  <!-- Parties -->
  <table class="container mb-12" style="border-collapse:collapse; width:100%;">
    <tr>
      <td style="vertical-align:top;">
        <div class="small muted" style="text-transform:uppercase; letter-spacing:.4px;">Bill To</div>
        <div><strong>{{ inv.customer.name }}</strong></div>
        <div class="small">{{ inv.customer.address }}</div>
        <div class="small">{{ inv.customer.email }} {% if inv.customer.phone %}| {{ inv.customer.phone }}{% endif %}</div>
      </td>
      <td class="right" style="vertical-align:top;">
        <div class="small muted" style="text-transform:uppercase; letter-spacing:.4px;">Invoice Details</div>
        <table class="info-table small" style="margin-left:auto;">
          <tr><td>Invoice #:</td><td>{{ inv.number }}</td></tr>
          <tr><td>Date:</td><td>{{ inv.date }}</td></tr>
          <tr><td>Due Date:</td><td>{{ inv.due_date }}</td></tr>
        </table>
      </td>
    </tr>
  </table>

  <!-- Items -->
  <table class="table">
    <thead>
      <tr>
        <th>Description</th>
        <th class="right">Qty</th>
        <th class="right">Unit Price</th>
        <th class="right">Total</th>
      </tr>
    </thead>
    <tbody>
      {% for it in inv.items.all %}
      <tr>
        <td>{{ it.product|default:it.description }}</td>
        <td class="right">{{ it.quantity }}</td>
        <td class="right">{{ it.unit_price }}</td>
        <td class="right">{{ it.total }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <!-- Totals -->
  <table class="table totals mt-12">
    <tbody>
      <tr>
        <td class="right"><strong>Grand Total</strong></td>
        <td class="right" style="width:120px;">{{ inv.total }}</td>
      </tr>
    </tbody>
  </table>

  <!-- Footer -->
  <div class="footer">
    <div class="small">Thank you for your business. For queries, contact sales@boforg.co.zw or +263 786 264 994.</div>
  </div>
</body>
</html>
