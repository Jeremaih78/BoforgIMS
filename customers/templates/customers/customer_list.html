{% extends 'base.html' %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h3>Customers</h3>
  <a href="{% url 'customer_create' %}" class="btn btn-primary btn-sm">Add Customer</a>
</div>
<form class="mb-3">
  <input class="form-control" name="q" placeholder="Search by name, email, phone..." value="{{ q }}">
</form>
<div class="card p-2">
<table class="table table-hover align-middle mb-0">
  <thead><tr><th>Name</th><th>Email</th><th>Phone</th><th>Address</th><th></th></tr></thead>
  <tbody>
    {% for c in customers %}
    <tr>
      <td>{{ c.name }}</td><td>{{ c.email }}</td><td>{{ c.phone }}</td><td>{{ c.address }}</td>
      <td class="text-end">
        <a class="btn btn-sm btn-outline-primary text-dark" href="{% url 'customer_edit' c.pk %}">Edit</a>
      </td>
    </tr>
    {% empty %}<tr><td colspan="5" class="text-center">No customers</td></tr>{% endfor %}
  </tbody>
</table>
  {% if customers.paginator %}
  <div class="p-2">
    <nav>
      <ul class="pagination pagination-sm mb-0">
        {% if customers.has_previous %}
        <li class="page-item"><a class="page-link" href="?q={{ q }}&page={{ customers.previous_page_number }}">Prev</a></li>
        {% else %}
        <li class="page-item disabled"><span class="page-link">Prev</span></li>
        {% endif %}
        <li class="page-item disabled"><span class="page-link">Page {{ customers.number }} of {{ customers.paginator.num_pages }}</span></li>
        {% if customers.has_next %}
        <li class="page-item"><a class="page-link" href="?q={{ q }}&page={{ customers.next_page_number }}">Next</a></li>
        {% else %}
        <li class="page-item disabled"><span class="page-link">Next</span></li>
        {% endif %}
      </ul>
    </nav>
  </div>
  {% endif %}
</div>
{% endblock %}
